_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[76],{"0Yqi":function(e,r,t){"use strict";var n=t("rePB"),o=t("nKUr"),a=t("Ff2n"),i=t("20a2"),s=t("YFqc"),c=t.n(s),u=t("q1tI"),l=t.n(u);function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach((function(r){Object(n.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.a=Object(i.withRouter)((function(e){var r=e.router,t=e.children,n=Object(a.a)(e,["router","children"]),i=u.Children.only(t),s=i.props.className||"";return r.pathname===n.href&&n.activeClassName&&(s="".concat(s," ").concat(n.activeClassName).trim()),delete n.activeClassName,Object(o.jsx)(c.a,p(p({},n),{},{children:l.a.cloneElement(i,{className:s})}))}))},Ff2n:function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var n=t("zLVn");function o(e,r){if(null==e)return{};var t,o,a=Object(n.a)(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}},NyWP:function(e,r,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.destroyCookie=r.setCookie=r.parseCookies=void 0;var o=t("iVi/"),a=t("U0US"),i=t("YAAg");function s(e,r){var t,n;return(null===(n=null===(t=null===e||void 0===e?void 0:e.req)||void 0===t?void 0:t.headers)||void 0===n?void 0:n.cookie)?o.parse(e.req.headers.cookie,r):i.isBrowser()?o.parse(document.cookie,r):{}}function c(e,r,t,s){var c,u;if(void 0===s&&(s={}),(null===(c=null===e||void 0===e?void 0:e.res)||void 0===c?void 0:c.getHeader)&&e.res.setHeader){if(null===(u=null===e||void 0===e?void 0:e.res)||void 0===u?void 0:u.finished)return console.warn('Not setting "'+r+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var l=e.res.getHeader("Set-Cookie")||[];"string"===typeof l&&(l=[l]),"number"===typeof l&&(l=[]);var d=a.parse(l,{decodeValues:!1}),p=i.createCookie(r,t,s),f=[];d.forEach((function(e){if(!i.areCookiesEqual(e,p)){var r=o.serialize(e.name,e.value,n({encode:function(e){return e}},e));f.push(r)}})),f.push(o.serialize(r,t,s)),e.res.setHeader("Set-Cookie",f)}if(i.isBrowser()){if(s&&s.httpOnly)throw new Error("Can not set a httpOnly cookie in the browser.");document.cookie=o.serialize(r,t,s)}return{}}function u(e,r,t){return c(e,r,"",n(n({},t||{}),{maxAge:-1}))}r.parseCookies=s,r.setCookie=c,r.destroyCookie=u,r.default={set:c,get:s,destroy:u}},QZ0e:function(e,r,t){"use strict";t.r(r);var n=t("nKUr"),o=t("rePB"),a=t("o0o1"),i=t.n(a),s=t("HaE+"),c=t("ODXe"),u=t("q1tI"),l=t.n(u),d=t("NyWP"),p=t("vDqi"),f=t.n(p),h=t("aLZG"),v=t("rjN7"),j=t("bTjV"),b=t("5I6T"),m=t("xUX2"),O=t("Ix5F"),g=t("0Yqi");function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach((function(r){Object(o.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var w={video_url:"",order:0,name:"",description:"",courseId:""},C=function(e){var r=e.courses,t=Object(d.parseCookies)().token,a=l.a.useState(w),u=Object(c.a)(a,2),p=u[0],x=u[1],C=l.a.useState(!1),k=Object(c.a)(C,2),S=k[0],N=k[1],P=l.a.useState(!0),E=Object(c.a)(P,2),_=E[0],A=E[1];l.a.useEffect((function(){var e=p.order,r=p.video_url,t=p.name,n=Object.values({video_url:r,name:t,order:e}).every((function(e){return Boolean(e)}));A(!n)}),[p]);var T=function(){var e=Object(s.a)(i.a.mark((function e(){var r,t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",p.video_url),r.append("upload_preset","vikingsvideo"),r.append("cloud_name","dev-empty"),e.next=6,f.a.post("https://api.cloudinary.com/v1_1/rivguru-2021/video/upload",r);case 6:return t=e.sent,n=t.data.url,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){var r=e.target,t=r.name,n=r.value,a=r.files;if("video_url"===t){if(a[0].size/1024/1024>20)return addToast("The video size greater than 20 MB. Make sure less than 20 MB.",{appearance:"error"}),void(e.target.value=null);x((function(e){return y(y({},e),{},{video_url:a[0]})}))}else x((function(e){return y(y({},e),{},Object(o.a)({},t,n))}))},D=function(){var e=Object(s.a)(i.a.mark((function e(r){var n,o,a,s,c,u,l,d,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),N(!0),e.prev=2,n="",!p.video_url){e.next=9;break}return e.next=7,T();case 7:o=e.sent,n=o.replace(/^http:\/\//i,"https://");case 9:return a="".concat(v.a,"/api/v1/courses/course/video-upload"),s=p.order,c=p.name,u=p.description,l=p.courseId,d={order:s,name:c,description:u,courseId:l,videoUrl:n},e.next=14,f.a.post(a,d,{headers:{Authorization:t}});case 14:h=e.sent,console.log(h.data),N(!1),b.b.success(h.data),x(w),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(2),Object(m.a)(e.t0,setError),b.b.error(error),console.log(e.t0);case 26:return e.prev=26,N(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[2,21,26,29]])})));return function(r){return e.apply(this,arguments)}}();return Object(n.jsxs)(l.a.Fragment,{children:[Object(n.jsx)(O.a,{pageTitle:"Upload Course Video",homePageUrl:"/",homePageText:"Home",activePageText:"Upload Course Video"}),Object(n.jsx)("div",{className:"ptb-100",children:Object(n.jsxs)("div",{className:"container",children:[0==r.length&&Object(n.jsxs)(h.a,{color:"danger",className:"text-center",children:["You have to create course first here ",Object(n.jsx)(g.a,{href:"/teacher/course/create",children:Object(n.jsx)("a",{children:"Create Course"})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4 col-lg-4",children:Object(n.jsx)("div",{className:"td-sidebar",children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(g.a,{href:"/teacher/courses",activeClassName:"active",children:Object(n.jsx)("a",{children:"My Courses"})})}),Object(n.jsx)("li",{children:Object(n.jsx)(g.a,{href:"/teacher/course/create",activeClassName:"active",children:Object(n.jsx)("a",{children:"Create A Course"})})}),Object(n.jsx)("li",{children:Object(n.jsx)(g.a,{href:"/teacher/courses/course-edit",activeClassName:"active",children:Object(n.jsx)("a",{children:"Edit My Course"})})}),Object(n.jsx)("li",{children:Object(n.jsx)(g.a,{href:"/teacher/course/upload-course-video",activeClassName:"active",children:Object(n.jsx)("a",{children:"Upload Course Video"})})})]})})}),Object(n.jsx)("div",{className:"col-md-8 col-lg-8",children:Object(n.jsx)("div",{className:"border-box",children:Object(n.jsxs)("form",{onSubmit:D,children:[S&&Object(n.jsx)("h3",{className:"loading-spinner",children:Object(n.jsx)("div",{className:"d-table",children:Object(n.jsxs)("div",{className:"d-table-cell",children:[Object(n.jsx)(j.a,{color:"danger"})," Vide uploading..."]})})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Select Course"}),Object(n.jsxs)("select",{onChange:U,name:"courseId",className:"form-control",children:[Object(n.jsx)("option",{children:"Select Course"}),r.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.title},e.id)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Video Order (1 or 2...)"}),Object(n.jsx)("input",{type:"number",placeholder:"Order Number",className:"form-control",name:"order",value:p.order,onChange:U})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{type:"text",placeholder:"Enter course title",className:"form-control",name:"name",value:p.name,onChange:U})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Deescription"}),Object(n.jsx)("input",{type:"text",placeholder:"Enter course title",className:"form-control",name:"description",value:p.description,onChange:U})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Video"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"file",name:"video_url",accept:"video/*",onChange:U})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("button",{className:"default-btn",disabled:_||S,children:[Object(n.jsx)("i",{className:"flaticon-right-chevron"}),"Upload"]})]})})})]})]})})]})};C.getInitialProps=function(){var e=Object(s.a)(i.a.mark((function e(r){var t,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(d.parseCookies)(r),n=t.token){e.next=3;break}return e.abrupt("return",{courses:[]});case 3:return o={headers:{Authorization:n}},a="".concat(v.a,"/api/v1/courses/my-courses"),e.next=7,f.a.get(a,o);case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),r.default=C},U0US:function(e,r,t){"use strict";var n={decodeValues:!0,map:!1,silent:!1};function o(e){return"string"===typeof e&&!!e.trim()}function a(e,r){var t=e.split(";").filter(o),a=t.shift().split("="),i=a.shift(),s=a.join("=");r=r?Object.assign({},n,r):n;try{s=r.decodeValues?decodeURIComponent(s):s}catch(u){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+s+"'. Set options.decodeValues to false to disable this feature.",u)}var c={name:i,value:s};return t.forEach((function(e){var r=e.split("="),t=r.shift().trimLeft().toLowerCase(),n=r.join("=");"expires"===t?c.expires=new Date(n):"max-age"===t?c.maxAge=parseInt(n,10):"secure"===t?c.secure=!0:"httponly"===t?c.httpOnly=!0:"samesite"===t?c.sameSite=n:c[t]=n})),c}function i(e,r){if(r=r?Object.assign({},n,r):n,!e)return r.map?{}:[];if(e.headers&&e.headers["set-cookie"])e=e.headers["set-cookie"];else if(e.headers){var t=e.headers[Object.keys(e.headers).find((function(e){return"set-cookie"===e.toLowerCase()}))];t||!e.headers.cookie||r.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=t}if(Array.isArray(e)||(e=[e]),(r=r?Object.assign({},n,r):n).map){return e.filter(o).reduce((function(e,t){var n=a(t,r);return e[n.name]=n,e}),{})}return e.filter(o).map((function(e){return a(e,r)}))}e.exports=i,e.exports.parse=i,e.exports.parseString=a,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!==typeof e)return[];var r,t,n,o,a,i=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(r=s,a=!1;c();)if(","===(t=e.charAt(s))){for(n=s,s+=1,c(),o=s;s<e.length&&"="!==(t=e.charAt(s))&&";"!==t&&","!==t;)s+=1;s<e.length&&"="===e.charAt(s)?(a=!0,s=o,i.push(e.substring(r,n)),r=s):s=n+1}else s+=1;(!a||s>=e.length)&&i.push(e.substring(r,e.length))}return i}},YAAg:function(e,r,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};function o(e,r){var t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++){var a=t[o];if(e[a]!==r[a])return!1}return!0}Object.defineProperty(r,"__esModule",{value:!0}),r.areCookiesEqual=r.hasSameProperties=r.createCookie=r.isBrowser=void 0,r.isBrowser=function(){return"undefined"!==typeof window},r.createCookie=function(e,r,t){var o=t.sameSite;!0===o&&(o="strict"),void 0!==o&&!1!==o||(o="lax");var a=n(n({},t),{sameSite:o});return delete a.encode,n({name:e,value:r},a)},r.hasSameProperties=o,r.areCookiesEqual=function(e,r){var t=e.sameSite===r.sameSite;return"string"===typeof e.sameSite&&"string"===typeof r.sameSite&&(t=e.sameSite.toLowerCase()===r.sameSite.toLowerCase()),o(n(n({},e),{sameSite:void 0}),n(n({},r),{sameSite:void 0}))&&t}},"iVi/":function(e,r,t){"use strict";r.parse=function(e,r){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var t={},o=r||{},i=e.split(a),c=o.decode||n,u=0;u<i.length;u++){var l=i[u],d=l.indexOf("=");if(!(d<0)){var p=l.substr(0,d).trim(),f=l.substr(++d,l.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==t[p]&&(t[p]=s(f,c))}}return t},r.serialize=function(e,r,t){var n=t||{},a=n.encode||o;if("function"!==typeof a)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var s=a(r);if(s&&!i.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=n.maxAge){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(n.domain){if(!i.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(c+="; HttpOnly");n.secure&&(c+="; Secure");if(n.sameSite){switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var n=decodeURIComponent,o=encodeURIComponent,a=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,r){try{return r(e)}catch(t){return e}}},mu7e:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teacher/course/upload-course-video",function(){return t("QZ0e")}])},wx14:function(e,r,t){"use strict";function n(){return(n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}t.d(r,"a",(function(){return n}))},zLVn:function(e,r,t){"use strict";function n(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}t.d(r,"a",(function(){return n}))}},[["mu7e",0,2,1,4,6,7,11]]]);